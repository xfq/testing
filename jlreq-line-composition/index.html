<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>簡便な行組版ルール（案）</title>
<script src="https://www.w3.org/Tools/respec/respec-w3c" class="remove"></script>
<script class="remove">
      var respecConfig = {
        specStatus: "ED",
        editors: [
        {   name:       "<span lang='ja'>小林 敏</span> (Toshi Kobayashi)",
                    company:    "Invited Expert" }
			],
	    edDraftURI: "https://w3c.github.io/jlreq/docs/line-composition/",
 		github: "w3c/jlreq",
        shortName: "jlreq-line-composition",
        localBiblio: {
          JISX4051: {
            title: "Formatting rules for Japanese documents (&#12302;&#26085;&#26412;&#35486;&#25991;&#26360;&#12398;&#32068;&#29256;&#26041;&#27861;&#12303;; JIS X 4051)",
            publisher: "Japanese Standards Association",
            date: "2004",
            id: "JIS X 4051:2004",
          },
        },
        noRecTrack: true,
        group: "i18n",
      };
    </script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
<style>
.note figure img {
	background: white;
	padding: 0.5em;
	}
</style>
</head>
<body>
<div id="abstract">
    <p> This document was written in Japanese
        by the <a href="https://www.aplab.jp/jwt">Japanese Writing Technology</a> Working Group
        of the <a href="https://www.kri.sfc.keio.ac.jp/en/lab/aplab/">Advanced Publishing Laboratory</a> of Keio University.
    </p>
</div>
<div id="sotd">
<!-- <p>This document is also <a href="TBD-ja.pdf">available in PDF format</a>.</p> -->
</div>





<section>
<h2 id="necessity">簡便な行組版ルールの必要性</h2>
<section>
    <h2>ラテン文字を主にした行組版処理</h2>
    <p>ラテン文字を主にした組版では，原稿段階で，アキを確保する位置には，ワードスペース（欧文間隔，UCS: 0020））などが挿入され，また，ワードスペースの挿入された位置で分割される（行末のワードスペースはアキを確保しない）．“行頭行末そろえ（justification）”が採用され，行の調整処理が必要になった場合にも，このワードスペースの空き量を変更して調整する．</p>
    <p>つまり，ラテン文字を主にした組版では，文字間にアキを確保する，あるいは分割，行の調整処理の自動処理が必要になるが，その箇所は原稿に明示的に示されているといえよう．</p>

<aside class="note" title="ラテン文字と同じ処理の日本語組版">
<p>本文で述べたように日本語組版には処理上で解決しないといけない問題がある．この問題を回避すればラテン文字を主にした組版と同様な処理が可能になる．例えば，以下のような方法が考えられる．</p>
<p>句読点や括弧などアキの処理については，まず句読点や括弧などのフォントデータの字幅としてアキを保持しないで，字面に応じた字幅（例えば半角）にする．そのうえで，アキを確保したい箇所には何らかのアキを確保する符号（例えば二分スペース）を挿入しておく．このアキは，行中にある場合は確保されるが，行頭又は行末では，そのアキを確保しないとすれば，行中と行頭（行末）で違う配置法がとれる．</p>
<p>行末での文字間を分割する問題については，文字単位の場合でも，単語（又は文節）とする場合でも，分割可能箇所（又は分割不可能箇所）を示す何らかの符号を挿入しておく必要がある．</p>
<p>さらに，文字単位で分割を可とし，行頭行末そろえを選択する場合，行の調整処理の問題を解決しないといけないが，これは分割可能箇所を均等に空ける処理を行えば，とりあえず問題は解決できる．</p>
<p>これとは別に，以下のような制御記号を必要箇所に挿入する方法も考えられる（以前のコンピュータ組版では，このような制御文字を持っていた例もある）．</p>
<ul>
<li>二分スペース</li>
<li>四分スペース</li>
<li>マイナス二分スペース（挿入箇所を二分詰める）</li>
<li>マイナス四分スペース（挿入箇所を四分詰める）</li>
<li>分割禁止の制御文字</li>
<li>分離禁止（挿入箇所を行の調整処理で字間の調整に使用しない）の制御文字</li>
</ul>
<p>
    あらかじめ，組版処理以前のテキストの該当箇所に，このような制御文字を入力しておけば，問題は解決できる．
</p>
</aside>
</section>

<section>
    <h2>日本語の行組版処理の基本</h2>
    <p>日本語の行組版処理においては，配置する文字の多くの字間はベタ組であるが，幾つかの文字の組合せ，あるいは行頭に配置する場合において一定のアキを確保する，あるいはアキを調整する処理が必要になる．</p>
    <p>例えば，以下のような例がある．</p>
    <ol>
<li>行頭に配置する括弧類（詳細は後述）</li>
<li>句読点と括弧類が重なった場合（詳細は後述）</li>
<li>漢字や仮名とアラビア数字の間（詳細は後述）</li>
    </ol>

<p>これらの処理箇所は，原稿の文字列（つまりテキスト）において，特に明示的に示されているわけではなく，組版処理の段階で自動的な処理が期待され，実際にも多くの DTP などでは，組版段階で自動処理が行われている．</p>
<p>また，文字を行に配置していく場合，指定された行長に達したときは適当な文字間で 2 行に分割しないといけない（以下，単に分割という）．この分割してよい箇所（字間），あるいは分割してはいけない箇所（字間）も，原稿の文字列（テキスト）に明示的に示されているわけではない．こうしたことも DTP などでは，組版段階で自動処理が行われている．</p>
<p>さらに，日本語組版の段落の配置方法として，多くは“行頭行末そろえ（justification）”が採用されている．この場合，行長に過不足が発生した行では，“行の調整処理”が必要になる（“行の調整処理”が必要となる原因と基本的な考え方は JLReq の“<a href="https://w3c.github.io/jlreq/#line_adjustment">3.8　行の調整処理</a>”参照）．</p>
<p>この行の調整処理も自動処理が必要になるが，自動処理の方法や箇所は原稿に明示的に示されているわけではなく，あらかじめルールとして処理系で準備しておき，そのルールに従って自動処理が行われることになる．</p>

</section>

<section>
    <h2>日本語の行組版処理の詳細</h2>
    <p>こうした日本語の行組版処理の内容は，JLReq の以下の節で解説されている．</p>
    <ul>
        <li><a href="https://w3c.github.io/jlreq/#line_composition_rules_for_punctuation_marks">3.1　約物などの組版処理</a></li>
        <li><a href="https://w3c.github.io/jlreq/#japanese_and_western_mixed_text_composition">3.2　和欧文混植処理（縦中横処理を含む）</a></li>
        <li><a href="https://w3c.github.io/jlreq/#paragraph_adjustment_rules">3.5　段落整形，そろえ及び段落末尾処理</a></li>
        <li><a href="https://w3c.github.io/jlreq/#line_adjustment">3.8　行の調整処理</a></li>
        <li><a href="https://w3c.github.io/jlreq/#about_character_classes">3.9　文字クラスについて</a></li>
    </ul>
<p>そして，その詳細は，“<a href="https://w3c.github.io/jlreq/#about_character_classes">3.9　文字クラスについて</a>”で説明されている文字クラスを用いて，次の附属書に示されている．</p>
<li><a href="https://w3c.github.io/#spacing_between_characters">B　文字間の空き量</a></li>
<li><a href="https://w3c.github.io/#possibilities_for_linebreaking_between_characters">C　文字間での分割の可否</a></li>
<li><a href="https://w3c.github.io/#opportunities_for_intercharacter_space_reduction_during_line_adjustment">D　行の調整処理で詰める処理が可能な箇所</a></li>
<li><a href="https://w3c.github.io/#opportunities_for_intercharacter_space_expansion_during_line_adjustment">E　行の調整処理で空ける処理が可能な箇所</a></li>
<p>これと比較すると，例えば，前述したように，英語の組版では，行の分割箇所には，欧文間隔（UCS: 0020）が挿入されており，行の調整処理も，主に欧文間隔の調整で行えばよいので，日本語組版に比べると，それほど複雑ではない．</p>

<aside class="note" title="行頭禁則と行末禁則" id="characters-not-starting-or-ending-a-line">
    <p>日本語組版では，句読点や終わり括弧類など行頭に配置する，あるいは始め括弧類を行末に配置することを禁止するルールがある．こうしたルールはこうした約物の前又は後ろの文字間での分割を禁止することで回避できる．したがって，分割のルールを定めれば，行頭禁則と行末禁則は実現できることになる．</p>
</aside>

<aside class="note" title="“行頭行末そろえ”の採用" id="align-both-edges-of-a-line">
<p>日本語組版では“行頭行末そろえ”が多い．これは，多くの人がそれに慣れ，慣習とされていることにもよるが，日本語組版での分割は，語単位ではなく文字単位で行うことにある．そのために多くの行で指定された行長と一致することになり，一部の行のみで過不足が発生する．そこで，行頭そろえ，行末そろえ又は中央そろえを選択すると，一部の行にのみ全角又は二分程度の余白がでるだけなので，ある種の乱れととられ，見た目のバランスがよくないと考えられることによる．</p>
<p>ただし，行頭に比べ，行末の不ぞろいはそれほど気にならないと考えれば，行頭そろえとする方法が採用できる．この方法にすれば，行の調整処理の問題は回避できる．なお，語又は文節を単位として分割する場合，行頭行末そろえとするときは，行の調整処理は字間で調整するので，この調整量が大きくなりすぎる行が出てくる．そのため，字間が不ぞろいとなる行が多く出てくるので，行頭そろえ（行末そろえ又は中央そろえ）を選択することになろう．</p>
</aside>
</section>

<section>
    <h2>活字組版とコンピュータでの組版処理</h2>
    <p>活字組版では，上記のルールの基本的事項は，出版社と印刷所の慣行として確立していた．必要があれば原稿の冒頭や，原稿指定票で総括的に示される，あるいは原稿の個々の箇所に指示を入れていた．</p>
    <p>いってみれば，こうした慣行としてのルールや原稿への指示を前提に，組版担当者の判断により，それぞれの箇所で臨機応変の処理をしていた（校正段階でも，組版処理の内容は点検され，ルール違反があれば赤字で修正が加えられていた）．したがって，例外的な文字の組合せにも対応できた．ある意味で，ルールの適用は組版担当者の能力に頼っていたともいえよう．</p>
    <p>これに対し，コンピュータでの組版処理では，機械的な処理（自動処理）が必要である．</p>
</section>

<section>
    <h2>組版処理ルールの単純化</h2>
<p>JLReq で述べた方法は，DTP などでは．ほぼ実現しているが，特別にアキを確保する箇所に組版段階でスペースを挿入する，あるいはアキ量を特別に指示するなど，個別箇所での特別な処理も必要になる．</p>
<p>Web，特にリフローを許す環境では完全な自動処理を考える必要があり，こうした環境では個別処理は避けなければならない．そこで，読みやすさの面での品質を保ちながら，ある程度の組版処理ルールの単純化をはかるが必要も出てくる．</p>
<p>以下は，基本的な要素に限った，そのひとつの処理案である．</p>
<p>なお，ここで解説する組版方法については，このように簡便化された処理法も可能であることを示したものであり，この処理法に限定することを主張するものではない．各処理系での追加機能の工夫，例えば，行の調整処理で詰める調整ができるようにする，あるいはぶら下げ組をオプションで採用できるようにする，といったことを否定するものではない．</p>

<aside class="note" title="出版社による行組版ルール" id="publisher-line-composition-rules">
    <p>書籍などにおいて，多くの出版社で共通に採用されているルールが多いのであるが，細部についてみると，出版社により，あるいは出版物の種類によって，その適用されるルールが異なる場合もある．例えば，後述する行頭に配置する括弧類の配置方法には，主に 3つの配置方法があり，出版社ごとに採用されるルールは，ほぼ決まっている．</p>
</aside>
<aside class="note" title="ぶら下げ組" id="line-adjustment-by-hanging-punctuation">
<p>ぶら下げ組は，字間による行の調整処理を少なくする方法であり，JLReq の“<a href="https://w3c.github.io/jlreq/#reduction_and_addition_of_intercharacter_space">3.8.2　詰める処理と空ける処理</a>”に解説がある．</p>
<p>なお，ぶら下げ組は，岩波書店で採用されたのが最初であり，その後，徐々に普及していった．このぶら下げ組を考案した岩波書店の初代校正課長の西島九州男は，その著書の“校正夜話”（日本エディタースクール出版部，1982 年）で，次のように述べている．</p>
<blockquote>
    ［句読点が行末ではみ出す場合］倍数の関係でどこかで字間を割ったり句読点の下をつめたりして調整しなければならない．どうしても無理がくるし手数がかかる．そこで邪魔な読点などはとってしまえなどという無茶なことになるわけです．そういうことから，私の方で行末にはみ出す句読点を行末の文字の下にブラ下ゲるということを“発明した”っていいますか，初めてやりました．ブラ下ゲた方が活字の倍数の関係から合理的だという合理主義的な考えから始めたのですが，亡くなられた木下杢太郎氏や幸田露伴先生などはこの方法があんまり好きではなかった．
</blockquote>
</aside>
</section>
</section>

<section>
<h2 id="punctuation-mark-width-and-space">約物の字幅とアキ</h2>

<section>
<h2 id="basic-positioning-of-punctuation-and-parentheses">句読点と括弧類の基本的な配置方法</h2>

<p>字幅が全角の仮名と漢字を用い，これらの字間をベタ組とした場合における句読点と括弧類の原則的な配置方法を[[[#positioning-of-punctuation-and-parentheses-principle]]]に示す．なお，日本語組版においては，通常は行長を文字サイズの整数倍として設定する．[[[#positioning-of-punctuation-and-parentheses-principle]]]の右側に示す正方形の枠は，行に全角の文字が整数個並ぶ場合の文字の外枠を示す（以下，同様）．</p>

<figure id="positioning-of-punctuation-and-parentheses-principle"> <img src="images/zu1b.svg" />
    <figcaption>句読点や括弧類の原則的な配置方法</figcaption>
</figure>

<p>
    [[[#positioning-of-punctuation-and-parentheses-principle]]]に示すように，句読点と括弧類が単独で漢字や仮名の間に配置される場合，重なって配置される場合，行頭や行末に配置される場合で，句読点と括弧類の占める字詰め方向の領域が異なっている．
</p>

<aside class="note" title="活字組版の句読点や括弧類の字幅" id="punctuation-width-letterpress-printing">
    <p>
        活字組版における活字は，一定の高さのある台（ボディ）の上に字面がある．この台の字詰め方向のサイズが字幅になる．活字組版における句読点と括弧類の台の字詰め方向のサイズとしては，半角と全角のものが準備されており，必要に応じて使い分けていた．
    </p>
    <p>
        なお，補足しておけば，日本語の活字組版では，植字作業に入る前に，原稿に従って活字を準備しておく“文選（ぶんせん）”という作業を行っていた．この文選作業では，仮名や漢字のみを拾い集め（採字という），句読点や括弧類，さらに字幅が全角でないアラビア数字やラテン文字などは採字しないで，植字作業で採字していた．
    </p>
</aside>

</section>

<section>
    <h2 id="punctuation-half-width">句読点と括弧類の字幅は半角と考える</h2>
    <p>
        JLReq では，句読点，括弧類や中点類の字幅を半角（二分）として説明している．これは JIS X 4051 にならったものである．この考え方は，実際のフォントデータの字幅がどのようになっているかとは無関係であり，あくまで説明の前提としての考え方である．
    </p>
    <p>
        [[[#positioning-of-punctuation-and-parentheses-principle]]]に示した配置例について，字幅を半角とする考え方による説明例を前ページの[[[#fig-half-width]]]に示す．なお，[[[#fig-half-width]]]における約物をくくった長方形（正方形でない）は，半角と考える句読点，括弧類及び中点類の文字の外枠，グレーで示した枠はアキ量を示す．
    </p>
    <figure id="fig-half-width"> <img src="images/zu2b.svg" />
        <figcaption>字幅を半角と考えた場合の説明</figcaption>
    </figure>

    <aside class="note" title="終わり括弧類など" id="closing-brackets">
        <p>
            　句点類（cl-06）と読点類（cl-7）は，ブラ下ゲ組を考慮すると，終わり括弧類（cl-01）と振る舞いが異なる．また，句点類（cl-06）と読点類（cl-7）は詰める調整を考えると，その扱いは異なる．この 2 つを考えなければ統合できる．
        </p>
    </aside>

    <aside class="note" title="行頭禁則約物類">
        <p>
字幅で異なる例もあるが，行頭禁則とする約物を合併した．
</p>
<p>区切り約物（cl-04）は，文末と文中で使用するという 2 つの用法がある．文末に配置し，句点としての用法も兼ねる場合，一般に区切り約物（cl-04）の後ろを全角アキにする．この処理は，通常は全角の和文間隔を挿入することで処理している．文中で使用する場合は，区切り約物（cl-04）の前後はベタ組とするが，その前後を二分アキなどにする例もある．空ける場合は，スペースなどを入れるなど，別の特別の処理が必要になる．</p>
<p>後置省略記号（cl-13）も行頭禁則文字として，同じ扱いが可能である．なお，“%”は，行頭配置を許容する配置法もあるが，前の数字と一体で扱った方が望ましく，その処理法は，ここでは考えなかった．</p>
<p>また，これらをアラビア数字の前後に配置する場合，漢字や仮名とは配置処理が異なるが，ここにまとめた約物類はアラビア数字との字間をベタ組とするので，同じ扱いが可能である．</p>
<p>中点類（cl-05）の字幅を半角と考えれば，区切り約物（cl-04）とアキが異なり，詰める調整でも，その扱いは異なる．字幅を全角と考えれば，同じ扱いが可能となる．ただし，行頭禁則文字として扱う必要があり，漢字等とは別の扱いになる．また，ルビの処理で異なるので，別にした．</p>
    </aside>

</section>

<section>
    <h2 id="punctuation-full-width">句読点と括弧類の字幅を全角と考える</h2>
    <p>
        実際のフォントデータの字幅としては，句読点，括弧類及び中点類の字幅を全角としている例がある．句読点，括弧類及び中点類の字幅を全角とすれば，[[[#positioning-of-punctuation-and-parentheses-principle]]]の説明は，[[[#fig-full-width]]]のようになる．
    </p>
    <figure id="fig-full-width"> <img src="images/zu3b.svg" />
        <figcaption>字幅を全角と考えた場合の説明</figcaption>
    </figure>
    <p>
        字幅を半角とする，あるいは全角とする場合であっても，どちらも結果として[[[#positioning-of-punctuation-and-parentheses-principle]]]になるのが，日本語組版としては望ましい形である．そこで，以下の説明では，括弧類や句読点の字幅として，実際のフォントデータでは全角としていることなどから，括弧類，句読点及び中点類の字幅を全角とし，それを前提に解説する．
    </p>
    <aside class="note" title="行頭禁則和字">
        <p>
            ここに含まれる小書きの仮名などは，今日，書籍などでは行頭禁則とする例は多くないので，仮名や漢字等に含ませることが可能である．しかし，Webでは行頭禁則としている例もあり，また，音読を考慮すると，これらを行頭禁則とす必要もあるので，文字クラスとして残した．
        </p>
    </aside>
    <aside class="note" title="分離禁止文字" id="inseparable-characters">
        <p>
            　2倍ダーシや2倍の3点リーダーなどは分割禁止とすることから1つの文字クラスになっている．単独で使用する全角ダーシや3点リーダーなどは，行頭禁則にも行末禁則にもしない．2倍ダーシは，それを1つの文字として扱えば分割できない．また，2倍3点リーダーは，活字組版では分割も許容されていたので，ここでは分割禁止としないで，一般の和字に含ませることにした．
        </p>
        <p>
            なお，ダーシとリーダーで扱いが異なっているのは，活字組版において，2倍ダーシは1つの台（ボディ）に鋳込まれており，2倍3点リーダーは，全角の3点リーダーを2つ並べていたことによる．
        </p>
    </aside>
</section>

</section>

<section>
    <h2 id="character-class-merge-and-positioning">文字クラスの統合とその配置方法</h2>

    <section>
        <h2 id="reduce-character-classes">文字クラスの数を少なくする</h2>
        <p>
            JIS X 4051 や JLReq では，文字の配置方法の違いに注目し，文字や記号を文字クラスに分け，その配置方法を規定している．JLReq では，“始め括弧類”の cl-1 から“縦中横中の文字”の cl-30 まで，30の文字クラスに分けている．
        </p>
        <p>
組版処理の複雑さを少なくするためには，この文字クラスの数を少なくすることも必要になる．
        </p>
    <aside class="note" title="仮名・漢字等" id="kana-kanji">
<p>
    仮名と漢字では，親文字からルビがはみ出した場合に，その扱いが異なることから別の文字クラスになっている．しかし，親文字からのルビのはみ出しを，仮名にも掛けないとすれば，同じ扱いとなる．
</p>
    </aside>
    </section>


    <section>
        <h2>統合あるいは採用しない文字クラス</h2>

        <p>ここでは，次のように文字クラスを整理する．新しい文字クラスはcl-i から cl-xii までの 12 個とする．なお，ここでの新しい文字クラスの番号は，JLReq と区別するたにローマ数字の小文字で示す．</p>
        <ol>
<li>始め括弧類（cl-i）　始め括弧類（cl-1）と同じ　</li>
<li>終わり括弧類等（cl-ii）　終わり括弧類（cl-01），句点類（cl-06），読点類（cl-7）を統合</li>
<li>行頭禁則約物類（cl-iii）　ハイフン類（cl-03），区切り約物（cl-04）及び後置省略記号（cl-13）を統合</li>
<li>中点類（cl-iv）：中点類（cl-05）と同じ</li>
<li>行頭禁則和字（cl-v）　繰返し記号（cl-09），長音記号（cl-10），及び小書きの仮名（cl-11）を統合</li>
<li>前置省略記号（cl-vi）　前置省略記号（cl-12）と同じ</li>
<li>和字間隔（cl-vii）　和字間隔（cl-14）と同じ</li>
<li>仮名・漢字等（cl-viii）　平仮名（cl-15），片仮名（cl-16）及び漢字等（cl-19）を統合</li>
<li>親文字群中の文字（ルビ付き）（cl-ix）　親文字群中の文字（熟語ルビ以外のルビ付き）（cl-22）及び親文字群中の文字（熟語ルビ付き）（cl-23）を統合</li>
<li>欧文間隔（cl-x）　欧文間隔（cl-26）と同じ</li>
<li>欧文用文字（cl-xi）　親文字群中の文字（添え字付き）（cl-21），単位記号中の文字（cl-25）及び欧文用文字（cl-27）を統合</li>
<li>縦中横中の文字（xii）　縦中横中の文字（cl-30）と同じ</li>
</ol>
<p>なお，連数字中の文字（cl-24）は，削除した．また，等号類（cl-17）と演算記号（cl-18），合印中の文字（cl-20）及び割注始め括弧類（cl-28）と割注終わり括弧類（cl-29）も削除した．ここでは基本的事項に限定すること，あるいは，それらは各要素で配置処理は解説されていることによる．</p>

<aside class="note" title="親文字群中の文字">
    <p>
        親文字群とは，親文字及びそれに付随するルビ，添え字又は圏点を含めた文字群のことである．
    </p>
<p>ここに含まれる文字群は，細部にわたれば処理方法は異なる．しかし，これらは添え字又はルビ処理の問題でもあり，そこで解決すればよいことであり，その前後に配置する漢字や仮名との関係だけを考えればよいので，親文字群中の文字（ルビ付き）とした．</p>
<p>なお，親文字群中の文字（添え字付き）（cl-21）は，主に欧文文字で使用されるので，欧文用文字（cl-xi）に含めた．</p>
        </aside>

        <aside class="note" title="割注の括弧" id="warichu">
            <p>
                割注の括弧は，その前後のアキなどについては，一般の括弧類とやや異なる処理が必要になるが，それは，割注の処理として考えればよいことなので，ここでの文字クラスからは削除した．
            </p>
                </aside>

                <aside class="note" title="インライングラフックの文字クラス">
                    <p>
                        行の文字と文字との間に，本文の一部として画像を挿入する例がある．インライングラフィックと呼ばれている．これと似たものとして JIS X 4051 では具体字形の処理法を規定している．“具体的な形態をもって実現した文字の個々の形”と定義しているが，画像で示した文字のことである．JISX 4051 では“具体字形の文字クラスは，漢字と同じ文字クラスとする．これ以外の文字クラスとすることは，処理系定義とする”と規定しており，漢字と同じ文字クラスとしている（処理系定義で別の文字クラスとすることも認めている）．インライングラフィックも同様の扱いでよいだろう．
                    </p>
                        </aside>
    </section>

    <section>
        <h2>各文字クラスの配置方法 1―文字間の空き量</h2>

<p>それぞれの文字クラスの文字間の空き量を<a href="#spacing_between_characters">表1</a>に示す．</p>
<p><a href="#spacing_between_characters">表1</a>においては，縦列の先頭列に，前に配置する文字クラス名を示し，横行の先頭行に，後ろに配置する文字クラス名（文字クラス名は略して表示）を示す．それぞれの交点のセル（こま）において，空き量を以下の記号で示す．</p>
<p>空白：前に配置する文字クラスの文字と，後ろに配置する文字クラスの文字の字間をベタ組とする，又は行頭若しくは行末との間をベタ組にする．</p>
<p>1/4：前に配置する文字クラスの文字と，後ろに配置する文字クラスの文字の字間を四分アキとする．ただし，配置される前後に親文字群中の文字（ルビ付き）（cl-ix）でルビのはみ出しがない場合，又は四分以下のはみ出しがある場合であり，はみ出しが四分以上の場合は，ルビを掛けないように空ける．</p>
<p>－1/2 後：後ろに配置する文字クラスの文字の前を二分詰める（[[[#zu4b]]]参照）．</p>

<figure id="zu4b"> <img src="images/zu4b.svg" />
    <figcaption>“－1/2 後”の配置処理例（左側が処理後）</figcaption>
</figure>

<p>－1/2 前：前に配置する文字クラスの文字の後ろを二分詰める（[[[#zu5b]]]参照）．</p>

<figure id="zu5b"> <img src="images/zu5b.svg" />
    <figcaption>“－1/2 前”の配置処理例（左側が処理後）</figcaption>
</figure>

<p>－1/2 先：行頭（又は段落先頭行の行頭）に配置する文字を[[[#zu6b]]]のように配置する．ただし，段落先頭行の場合，段落先頭行の字下ガリは全角下ガリとする．</p>

<figure id="zu6b"> <img src="images/zu6b.svg" />
    <figcaption>　“－1/2 先”の配置処理例（左側が処理後）</figcaption>
</figure>

<p>－1 先：段落先頭行の行頭に配置する文字を[[[#zu7b]]]のように配置する．ただし，段落先頭行の場合，段落先頭行の字下ガリは全角下ガリとする．</p>

<figure id="zu7b"> <img src="images/zu7b.svg" />
    <figcaption>“－1 先”の配置処理例（左側が処理後）</figcaption>
</figure>

<p>－1/2 末：行末に配置する文字を[[[#zu8b]]]のように配置する．</p>

<figure id="zu8b"> <img src="images/zu8b.svg" />
    <figcaption>“－1/2 末”の配置処理例（左側が処理後）</figcaption>
</figure>

<p>－1/2 連：連続する文字クラスの文字の内，小さなサイズの文字の後ろ又は前を二分詰める（[[[#zu9b]]]参照），又は前に配置する文字クラスの文字の後ろを四分詰め，後ろに配置する文字クラスの文字の前を四分詰める（[[[#zu9b]]]参照）．</p>

<figure id="zu9b"> <img src="images/zu9b.svg" />
    <figcaption>“－1/2 連”の配置処理例（左側が処理後）</figcaption>
</figure>

<p>1/2 掛：親文字からルビのはみ出しがあった場合，ルビ文字を空白に二分まで掛けてよい．</p>
<p>1/4 掛：親文字からルビのはみ出しがあった場合，ルビ文字を空白に四分まで掛けてよい．</p>
<p>×：このような配置は分割禁止により禁止される．</p>
<p>無：このような配置は，通常は発生しないが，配置する場合は，ベタ組になる．</p>

<p>なお，<a href="#spacing_between_characters">表1</a>において，前に配置する文字クラスの最後に“行頭”及び“段落先頭行頭”とあるのは，行頭に配置した文字クラスの配置処理法を示し，“空白”のセル（ベタ組）の場合，行頭に配置する文字の先頭を行頭（又は段落先頭行の行頭）の位置にそろえ，“－1/2 先”とあった場合は[[[#zu6b]]]，“－1 先”とあった場合は，段落先頭行の行頭を[[[#zu7b]]]のように配置する（注で説明している③の方式である）．なお，段落先頭行の字下ガリは，全角とする．</p>
<p>また，後ろに配置する文字クラスの最後に“行末”とあるのは，行末に配置する文字クラスの配置処理法を示し，“空白”のセル（ベタ組）の場合，行末に配置する文字の末尾を行末の位置にそろえ，“－1/2 末”とあった場合は，[[[#zu8b]]]のように配置する．</p>


<aside class="note" title="和文と欧文のアキ" id="japanese-western-space">
    <p>
        和文の漢字や仮名とアラビア数字又は欧字との間は，原則として四分アキにする．これは，和文とアラビア数字又は欧文文字とで設計が異なることによる．和文の文字の外枠のアキとアラビア数字又は欧文文字の字詰め方向の外枠とのアキの違いがあるので，バランスを取るための処理である．また，漢字と仮名は，ある程度のまとまりを連続して読んでいくことはあるとしても，基本は1字1字読んでいくのに対し，欧文文字は，どちからといえば，単語ごとにまとめて読んでいく傾向が強いという違いもある．こうした異質のものを混ぜて配置していく際の工夫といえよう．
    </p>
    <p>
ただし，四分アキとするのは活字組版の慣習にならったものであり，フォントにもよるが，四分アキが望ましいアキとは限らない．一般的にいえば，四分よりいくらか詰めた方がバランスがよい．その意味では，和文とアラビア数字又は欧文文字とのアキは，定義により変更できることが望ましい．
    </p>
</aside>

<aside class="note" title="括弧類や句読点が連続する場合" id="japanese-western-space">
    <p>
        始め括弧類（cl-i，ここでは“始め”と略す）と終わり括弧類等（cl-ii，ここでは“終わり”と略す）が連続するケースとしては，以下の4パターンである．
    </p>
<p>（1）始めと始めが連続</p>
<p>（2）終わりと終わりが連続</p>
<p>（3）終わりと始めが連続</p>
<p>（4）始めと終わりが連続</p>
<p>この場合，（1）は前に配置する始めは全角のまま，その前に二分の空白を保持している．これに対し，後ろに配置する文字の前を二分詰めることになる（[[[#zu4b]]]参照）．</p>
<p>（2）の場合，後ろに配置する終わりは全角のままで，その後ろに二分の空白を保持している．これに対し，前に配置する文字の後ろを二分詰めることになる（[[[#zu5b]]]参照）．</p>
<p>（3）の場合，JIS X 4051 や JLReq では，後ろに配置する文字クラスの文字の前を二分詰める形を示している．これは，一般に配置する文字クラスの文字サイズが同じか，又は後ろに配置する文字クラスの文字が小さいことによる．ここでは，一般化して，小さな文字サイズの文字を調整するように改めた（又は，それぞれを平均して，四分詰めるとしてもよい）（[[[#zu9b]]] 参照）．</p>
<p>（4）は通常は発生しない．配置例があった場合，その字間をベタ組にすればよい．</p>
<p>こうした処理が必要になるのは，単独で出現する括弧類や句読点とのアキをそろえ，余分なアキを削除するためである．</p>
<p>例えば，始め括弧類（cl-i）の後ろ及び終わり括弧類等（cl-ii）の前は，特別な場合を除き，ベタ組であり（[[[#zu4b]]] や[[[#zu5b]]]の処理以前は，ここが二分アキになっている），始め括弧類（cl-i）の前及び終わり括弧類等（cl-ii）の後ろは，その字形の前又は後ろに二分程度の空白を持っている（[[[#zu9b]]]の処理以前は，ここの空白は全角に近いアキになっている）．</p>
</aside>

<aside class="note" title="段落先頭行の行頭処理">
<p>段落の1行目の行頭に括弧類を配置する例がある．この括弧類の配置については，いくつかの方法がある．段落の2行目以下の行頭との組み合わせでは，以下の3つが代表的な配置方法である（[[[#brackets-at-the-beginning-of-a-line]]]参照）．</p>
<p>①の方式は，見た目で段落の1行目行頭に全角二分の空白があり，2 行目以下の行頭では二分の空白がある．②では，段落の1行目行頭に全角の空白があり，2 行目以下の行頭では空白がない．③では，段落の1行目行頭に二分の空白があり，2 行目以下の行頭では空白がない．</p>
<p>活字組版では，行長に半端のでない①の方法が多かったが，今日では，この方式は少なくなり，これに代わり②の方法が多くなっている．</p>
<p>③の方法は，活字組版時代から小説の出版物の多い出版社で採用されていた方式で，今日でも，この方式を採用している出版物も多い．小説の場合，会話が多く，特に①の方式では，括弧でくくる会話文が下がり過ぎになることを避けるためといわれていた．したがって，この慣例を変えることは簡単ではなく，この方式を望む編集者（出版社）は多いと考えられる．</p>
<p>なお，③の方式は，段落の開始がやや分かりにくい場合があるという問題点がある．</p>

<figure id="brackets-at-the-beginning-of-a-line"> <img src="images/zu10b.svg" />
    <figcaption>行頭の括弧類の配置例</figcaption>
</figure>

</aside>

</section>

<section>
    <h2>各文字クラスの配置方法 2―文字間での分割の可否</h2>

<p>それぞれの文字クラスの文字間での分割の可否については<a href="#possibilities_for_linebreaking_between_characters">表2</a>に示す．</p>
<p><a href="#possibilities_for_linebreaking_between_characters">表2</a>においては，縦列の先頭列に，前に配置する文字クラス名を示し，横行の先頭行に，後ろに配置する文字クラス名（文字クラス名は略して表示）を示す．それぞれの交点のセル（こま）において，分割の可否を以下の記号で示す．</p>
<p>無印：分割が可能，ただし，複数の欧文文字が連続する場合は，その文字間では，原則として分割はできない．</p>
<p>否：分割はできない．</p>
<p>可 or 否：分割できるか，できないかは指示による．</p>
</section>

<section>
    <h2>各文字クラスの配置方法 3―空ける処理が可能な箇所</h2>

<p>行の調整処理で空ける処理が可能な箇所と，その優先順位を<a href="#opportunities_for_intercharacter_space_expansion_during_line_adjustment">表3</a>に示す．</p>
<p><a href="#opportunities_for_intercharacter_space_expansion_during_line_adjustment">表3</a>においては，縦列の先頭列に，前に配置する文字クラス名を示し，横行の先頭行に，後ろに配置する文字クラス名（文字クラス名は略して表示）を示す．それぞれの交点のセル（こま）において，空ける処理方法について以下の記号で示す．なお，この表では，欧文の語間の処理は考慮していない．この処理を行う場合は，“1/2 まで”をまず行い，次に欧文の語間の処理を行い，最後に，この表で示された箇所を空ける</p>
<p>可：行の調整処理で，行末に配置する文字クラスの調整で処理できない場合に，空ける処理が可能な箇所を示す．</p>
<p>1/2まで：行末に配置する文字クラスの後ろを二分まで空けることができ，この処理を優先する．</p>
<p>×：このような配置は分割禁止により禁止される．</p>

<aside class="note" title="行末の終わり括弧類等" id="closing-brackets-at-line-end">

<p>行末に配置する句読点や括弧類の配置は，[[[#zu8b]]]の右側のようにするのが原則であり，行の調整処理が必要な場合は，ここを優先的に二分詰める処理を行っていた．これは活字組版でも，コンピュータ組版でも共通であった．</p>
<p>行頭の位置をそろえるという必要性に比べ，行末の位置をそろえることは，ある程度はごまかせる，という理由からである．行末句読点や括弧類の後ろのアキは，それほど気にならないということである．</p>
<p>そこで，ここでは，[[[#zu8b]]]の左側の配置法を前提に，この箇所を調整で優先的に使用した．特にその行に行長の調整が必要なければ，通常は[[[#zu8b]]]の右側のようになる．</p>
<p>なお，従来からここの配置方法は[[[#zu8b]]]の右側か，又は左側の配置のいずれかであり，その中間のアキをとる配置は行われていなかったが，これは活字組版の技術的な問題からきたもので，ここでは中間のアキをとることも認めた．</p>
<p>DTP などでは，行末の終わり括弧類等をすべて[[[#zu8b]]]の左側のように配置する方法がある．ここで述べる調整法を採用しなければ，その配置方法になる．</p>

</aside>

</section>

</section>

<section>
    <h2>分かち書きとアクセシビリティ</h2>

    <section>
        <h2>読書と語句の区切り</h2>

<p>前述したように多くの日本語の文章では，文字の多くはベタ組で配置していく．ラテン文字を主にした文章のように単語の区切りを示すアキ又は記号は挿入されない．多くの人が，こうした文章で読みなれているのが現状である．</p>
<p>しかし，単語の区切りを示していない文章を読むのに困難を感じている人たちもおり，こうした人たちは，語句の区切りが示されていない印刷物の文章に，あらかじ語句ごとに斜線で区切りを入れて読んでいる例もある．</p>
<p>アクセシビリティを高めるためには，語句の区切りを示した組版処理も必要といえる．</p>

<aside class="note" title="漢字と仮名の使用と語句の区切り">
<p>日本語では，主に概念を表す部分（名詞・動詞・形容詞・形容動詞など）には漢字を使用し，補足的に付く部分（活用する語の語尾，助詞・助動詞，形式名詞など）には平仮名を使用している．これが語句の区切りを示す役割を果たしている．</p>
<p>そこで，例えば，別の語句である漢字や仮名が連続する場合は，語句の区切りがあいまいになるので，読点を挿入するなどの工夫が必要になる場合もある．</p>
</aside>

    </section>

    <section>
        <h2>文節で区切る“分かち書き”</h2>
        <p>語句の区切りを示す方法として，子ども向けの本で“分かち書き”が採用されている．例えば，小学校の国語と道徳（1年生及び2年生）の教科書，子ども向けの平仮名を主にした本の一部，DAISY 教科書の一部で分かち書きが採用されている．この方法は，文について文節を単位にして区切って表示する方法であり．文節の区切りを示す方法としては，一般に全角の和字間隔（<a href="https://w3c.github.io/jlreq/#cl-14">cl-14</a>，この文書の文字クラスでは cl-vii）を用いている（後ろに掲げる[[[#zu11b]]]及び[[[#zu12b]]]参照）．</p>
<aside class="note" title="形態素解析による分かち書き">
    <p>形態素解析による分かち書きは，正確性に欠ける部分があるので，人為的な方法が必要になる．</p>
</aside>
    </section>

    <section>
        <h2 id="bunsetsu">文節とは</h2>
        <p>文節という用語は，橋本進吉が最初に使用した用語であり，橋本進吉著“国語法研究”（岩波書店，1947年，参照したものは1976年の第22刷）では，“文を実際の言語として出来るだけ多く区切つた最短い一区切”を文節と名づけ，次のような例を掲げている（文節の区切りを縦線で示す）．</p>

        <p>私は｜昨日｜友人と｜二人で｜丸善へ｜本を｜買ひに｜行きました．</p>
        <p>そして，同書では，その形の上からみれば，次のような特徴があると述べている．</p>

<p>一　一定の音節（これは無論一つ又は二つ以上の単音から出来たものである）が一定の順序に並んで，それだけはいつも続けて発音せられる（その中間に音の断止が無い）．</p>
<p>二　文節を構成する各音節の音の高低の関係（即ちアクセント）が定まつてゐる．例へば，東京語では，“今日も”は“キョオモ”のキョの部分を高く，オとモの部分を低くいつも発音し，“いい（好）”は初のイを高く，次のイを低く発音するなど．</p>
<p>三　実際の言語に於ては，その前と後とに音の切目をおく事が出来る．</p>
<p>四　最初に来る音とその他の音，又は最後に来る音とその他の音との間には，それに用ゐる音にそれぞれ違つた制限がある事がある．（例は省略）</p>

<p>さらに，文節は，一つ又は二つ以上の語（単語）から成り立っており，語について，それだけで単独で一文節をなす独立できる語と，それだけで文節を作ることができず，独立できる語と共に文節を作る語（独立できない語）とに分けている．</p>

    </section>

    <section>
        <h2>分かち書き文書の要件</h2>

        <p>分かち書き文書では，次のような要件が必要である．</p>
<p>―分かち書きの区切りとしては，従来から行われている文節による分かち書きが，慣れていることから望ましいといえよう．</p>
<p>―文節区切りは，教科書などとそろえる必要があり，義務教育段階では正確な分かち書きが求められるている．</p>
<p>―分かち書きの区切りとしては，全角の和字間隔（cl-vii）を用いる．</p>
<p>―句読点や括弧類の配置方法は，一般の場合と同じである．</p>
<p>―分かち書きの段落処理としては，行頭そろえ又は行頭行末そろえ（justification）が多く採用されている．</p>
<p>―行頭そろえの場合，2行にわたる分割については，文節の途中では分割しない．分割は，分かち書きの区切り又は句読点や括弧類の後ろとする．なお，分かち書きの区切りの和字間隔（cl-vii）が行末に配置される場合は，全角アキを確保し，行頭に配置される場合は，全角アキを確保しないで，文節の語句の先頭を行頭に配置する．宮沢賢治作“注文の多い料理店”の冒頭の文を使用した例を[[[#zu11b]]]に掲げる．</p>
<p>―行頭行末そろえ（justification）の場合は，一般の行処理と同じで，文節の途中で2行にわたる分割は可能である．なお，分かち書きの区切りの和字間隔（cl-vii）は，行頭そろえの場合と同じである．[[[#zu11b]]]と同文の例を[[[#zu12b]]]に掲げる．（[[[#zu12b]]]の右から2行目の行頭に和字間隔（cl-vii）が配置されることになるが，全角アキにしていない．逆に左から2行目の行末では全角アキとしている．）</p>
<p>―読むことにある程度慣れてくると，分かち書きしない文章で十分読める，あるいは，そうした文章に慣れていくためにも，分かち書き無しの表示も必要である．つまり，同一コンテンツを分かち書き／分かち書き無しと表示し分ける必要がある．</p>

<figure id="zu11b"> <img src="images/zu11b.svg" />
    <figcaption>分かち書きの例1</figcaption>
</figure>

<figure id="zu12b"> <img src="images/zu12b.svg" />
    <figcaption>分かち書きの例2</figcaption>
</figure>

    </section>

    <section>
        <h2>文節又は語を単位にする分割</h2>

<p>語を認識することに困難を抱える児童にとって，文節又は語の途中での2行にわたる分割は理解の妨げとなる．こうしたことから，分かち書きをしない組版であっても，文節又は語を単位とした分割処理も必要になる．</p>
<p>また，一般の読者にとっても，文節又は語の途中での分割に慣れているが，実際に文字を読んでいく場合，1字単位ではなく，ある程度のまとまり（単語あるいは文節単位）で読んでいく．となれば，段落内で行を折り返す場合，文字単位で折り返す位置を決めるのではなく，単語あるいは文節単位で折り返す方が読みやすいと考えられるし，小林潤平などの実証研究でも，そのことが示されている．</p>
<p>こうしたことから，分かち書きをしない一般の文章でもあっても，文節又は語を単位とした分割処理が選択できるようになることが望ましい．この場合の分割位置は，教科書で採用されている分かち書きほどの厳密さは要求されないので，形態素解析などの前処理で分割位置を決めるといった方法が採用できる．</p>
<p>なお，文節又は語を単位として分割する場合の段落処理は，行頭行末そろえ（justification）にすると，行の調整処理での字間の処理量が大きくなる行も出てくるので，行頭そろえなどにするのが望ましいといえよう．</p>

<aside class="note" title="単語又は文節単位で折り返す場合の段落整形処理">
    <p>行頭行末そろえの行の調整処理で空ける処理を行う場合，調整量が全角程度であれば，読者にとっては，ほとんで気にならないが，調整量が2倍，3倍ともなれば，字間のアキがそれなりに目立つ．これは，ベタ組に慣れた読者にとっては，あまり読みやすいとはいえない．単語又は文節単位で折り返す場合に行頭行末そろえを選ぶと，空ける調整では，かなりの調整量となる例もでるので，現実的な処理としては行頭そろえとなるであろう．</p>
</aside>

    </section>

</section>

<section id="appendix_1" class="appendix">
  <h2 id="spacing_between_characters">文字間の空き量</h2>
  <p>“<a href="tables/table1.pdf">表1 文字間の空き量</a>”<span>（PDF版）</span>を参照．</p>

</section>

<section id="appendix_2" class="appendix">
    <h2 id="possibilities_for_linebreaking_between_characters">文字間での分割の可否</h2>
    <p>“<a href="tables/table2.pdf">表2 文字間での分割の可否</a>”<span>（PDF版）</span>を参照．</p>
  
</section>

<section id="appendix_3" class="appendix">
    <h2 id="opportunities_for_intercharacter_space_expansion_during_line_adjustment">行の調整処理で空ける処理が可能な箇所</h2>
    <p>“<a href="tables/table3.pdf">表3 行の調整処理で空ける処理が可能な箇所</a>”<span>（PDF版）</span>を参照．</p>
  
</section>

</body>
</html>